"use strict";(self.webpackChunkdhiwise_document=self.webpackChunkdhiwise_document||[]).push([[9357],{3905:(e,n,t)=>{t.d(n,{Zo:()=>d,kt:()=>m});var a=t(67294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,o=function(e,n){if(null==e)return{};var t,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var i=a.createContext({}),p=function(e){var n=a.useContext(i),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},d=function(e){var n=p(e.components);return a.createElement(i.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},c=a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,r=e.originalType,i=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),c=p(t),m=o,g=c["".concat(i,".").concat(m)]||c[m]||u[m]||r;return t?a.createElement(g,s(s({ref:n},d),{},{components:t})):a.createElement(g,s({ref:n},d))}));function m(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var r=t.length,s=new Array(r);s[0]=c;var l={};for(var i in n)hasOwnProperty.call(n,i)&&(l[i]=n[i]);l.originalType=e,l.mdxType="string"==typeof e?e:o,s[1]=l;for(var p=2;p<r;p++)s[p]=t[p];return a.createElement.apply(null,s)}return a.createElement.apply(null,t)}c.displayName="MDXCreateElement"},97466:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>s,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>p});var a=t(87462),o=(t(67294),t(3905));const r={sidebar_position:1},s="Read APIs",l={unversionedId:"node/generate-apis/crud/read-apis",id:"node/generate-apis/crud/read-apis",title:"Read APIs",description:"DhiWise provides 4 APIs which can help to get records from a database.",source:"@site/docs/node/generate-apis/crud/read-apis.md",sourceDirName:"node/generate-apis/crud",slug:"/node/generate-apis/crud/read-apis",permalink:"/docs/node/generate-apis/crud/read-apis",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"node",previous:{title:"Create APIs",permalink:"/docs/node/generate-apis/crud/create-apis"},next:{title:"Update APIs",permalink:"/docs/node/generate-apis/crud/update-apis"}},i={},p=[{value:"Get Blog by Id",id:"get-blog-by-id",level:2},{value:"Sample request:",id:"sample-request",level:4},{value:"<strong>cURL</strong>",id:"curl",level:4},{value:"Nodejs - Axios",id:"nodejs---axios",level:4},{value:"Sample success response:",id:"sample-success-response",level:4},{value:"Sample response where &quot;id&#39; passed in path param does not exist in a database",id:"sample-response-where-id-passed-in-path-param-does-not-exist-in-a-database",level:4},{value:"Get Blog by Id with populate and selection",id:"get-blog-by-id-with-populate-and-selection",level:2},{value:"Sample request:",id:"sample-request-1",level:4},{value:"<strong>JSON</strong>",id:"json",level:4},{value:"<strong>cURL</strong>",id:"curl-1",level:4},{value:"Nodejs - Axios",id:"nodejs---axios-1",level:4},{value:"Sample response:",id:"sample-response",level:4},{value:"Get count of documents",id:"get-count-of-documents",level:2},{value:"Sample request:",id:"sample-request-2",level:4},{value:"<strong>JSON</strong>",id:"json-1",level:4},{value:"<strong>cURL</strong>",id:"curl-2",level:4},{value:"Nodejs - Axios",id:"nodejs---axios-2",level:4},{value:"Sample success response:",id:"sample-success-response-1",level:4},{value:"Find Documents using filter",id:"find-documents-using-filter",level:2},{value:"Sample request:",id:"sample-request-3",level:4},{value:"<strong>JSON</strong>",id:"json-2",level:4},{value:"<strong>JSON</strong>",id:"json-3",level:4},{value:"<strong>cURL</strong>",id:"curl-3",level:4},{value:"Nodejs - Axios",id:"nodejs---axios-3",level:4},{value:"Find all with logical operators",id:"find-all-with-logical-operators",level:2},{value:"<strong>JSON</strong>",id:"json-4",level:4},{value:"<strong>cURL</strong>",id:"curl-4",level:4},{value:"Nodejs - Axios",id:"nodejs---axios-4",level:4},{value:"Sample failure response",id:"sample-failure-response",level:4},{value:"Options object for request body",id:"options-object-for-request-body",level:2},{value:"Sample request",id:"sample-request-4",level:4},{value:"<strong>JSON</strong>",id:"json-5",level:4},{value:"<strong>cURL</strong>",id:"curl-5",level:4},{value:"Nodejs - Axios",id:"nodejs---axios-5",level:4},{value:"Sample response:",id:"sample-response-1",level:4}],d={toc:p};function u(e){let{components:n,...t}=e;return(0,o.kt)("wrapper",(0,a.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"read-apis"},"Read APIs"),(0,o.kt)("p",null,"DhiWise provides 4 APIs which can help to get records from a database."),(0,o.kt)("div",{className:"grid grid-cols-2 gap-20"},(0,o.kt)("a",{className:"Card",href:"#get-blog-by-id"},(0,o.kt)("h4",null,"Get document by Id")),(0,o.kt)("a",{className:"Card",href:"#get-blog-by-id-with-populate-and-selection"},(0,o.kt)("h4",null,"Get document by Id with populate and select")),(0,o.kt)("a",{className:"Card",href:"#get-count-of-documents"},(0,o.kt)("h4",null,"Get document count")),(0,o.kt)("a",{className:"Card",href:"#find-documents-using-filter"},(0,o.kt)("h4",null,"Find document by filter"))),(0,o.kt)("h2",{id:"get-blog-by-id"},"Get Blog by Id"),(0,o.kt)("p",null,"To find a record from a collection using Id."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"API URL:")," ",(0,o.kt)("e",{className:"post method"},"POST")," ",(0,o.kt)("inlineCode",{parentName:"p"},"<Base URL>/client/api/v1/blog/:id")),(0,o.kt)("h4",{id:"sample-request"},"Sample request:"),(0,o.kt)("h4",{id:"curl"},(0,o.kt)("strong",{parentName:"h4"},"cURL")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"curl --location --request GET '<Base URL>/client/api/v1/blog/617f7d11fb3eb63160d22b62' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer <token>'\n")),(0,o.kt)("h4",{id:"nodejs---axios"},"Nodejs - Axios"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"var axios = require('axios');\n\nvar config = {\n  method: 'get',\n  url: '<Base URL>/client/api/v1/blog/617f7d11fb3eb63160d22b62',\n  headers: { \n    'Content-Type': 'application/json', \n    'Authorization': 'Bearer {token}'\n  }\n};\n\naxios(config)\n.then(function (response) {\n  console.log(JSON.stringify(response.data));\n})\n.catch(function (error) {\n  console.log(error);\n});\n")),(0,o.kt)("h4",{id:"sample-success-response"},"Sample success response:"),(0,o.kt)("p",null,"Status code: ",(0,o.kt)("inlineCode",{parentName:"p"},"200")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'{\n    "status": "SUCCESS",\n    "message": "Your request is successfully executed",\n    "data": {\n        "author": {\n            "name": "Samantha Herman IV",\n            "image": "payment",\n            "email": "Cecil_Renner7@yahoo.com"\n        },\n        "publisher": {\n            "name": "Gustavo Wyman",\n            "url": "Concrete",\n            "logo": "reboot"\n        },\n        "_id": "617f7d11fb3eb63160d22b62",\n        "title": "Tastyupdate",\n        "alternativeHeadline": "User-friendlyupdate",\n        "image": "Orchestrator",\n        "publishDate": "Direct",\n        "articleSection": "Home",\n        "articleBody": "Account",\n        "description": "redefine",\n        "slug": "Islands",\n        "url": "parse",\n        "isDraft": true,\n        "addedBy": "6179186894c816c40ae15988",\n        "createdAt": "2021-11-01T05:37:21.667Z",\n        "updatedAt": "2021-11-01T06:25:00.143Z",\n        "isDeleted": false,\n        "isActive": true,\n        "updatedBy": "6179186894c816c40ae15988",\n        "id": "617f7d11fb3eb63160d22b62"\n    }\n}\n')),(0,o.kt)("h4",{id:"sample-response-where-id-passed-in-path-param-does-not-exist-in-a-database"},"Sample response where \"id' passed in path param does not exist in a database"),(0,o.kt)("p",null,"Status code: ",(0,o.kt)("inlineCode",{parentName:"p"},"200")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'{\n    "status": "RECORD_NOT_FOUND",\n    "message": "Record not found with specified criteria.",\n    "data": {}\n}\n')),(0,o.kt)("h2",{id:"get-blog-by-id-with-populate-and-selection"},"Get Blog by Id with populate and selection"),(0,o.kt)("p",null,"To get a record of a collection by Id and in addition, you can have a populated record and only selected fields."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"API URL:")," ",(0,o.kt)("e",{className:"post method"},"POST")," ",(0,o.kt)("inlineCode",{parentName:"p"},"<Base URL>/client/api/v1/blog/:id")),(0,o.kt)("h4",{id:"sample-request-1"},"Sample request:"),(0,o.kt)("h4",{id:"json"},(0,o.kt)("strong",{parentName:"h4"},"JSON")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'{\n  "populate": [\n    {\n      "path": "addedBy",\n      "select": [\n        "username",\n        "email"\n      ]\n    }\n  ],\n  "select": [\n    "title",\n    "alternativeHeadline",\n    "image",\n    "publishDate",\n    "author",\n    "publisher"\n  ]\n}\n')),(0,o.kt)("h4",{id:"curl-1"},(0,o.kt)("strong",{parentName:"h4"},"cURL")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'curl --location --request POST \'<Base URL>/client/api/v1/blog/617f7d11fb3eb63160d22b62\' \\\n--header \'Content-Type: application/json\' \\\n--header \'Authorization: Bearer {token}\' \\\n--data-raw \'{\n  "populate": [\n    {\n      "path": "addedBy",\n      "select": [\n        "username",\n        "email"\n      ]\n    }\n  ],\n  "select": [\n    "title",\n    "alternativeHeadline",\n    "image",\n    "publishDate",\n    "author",\n    "publisher"\n  ]\n}\'\n')),(0,o.kt)("h4",{id:"nodejs---axios-1"},"Nodejs - Axios"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'var axios = require(\'axios\');\nvar data = JSON.stringify({\n  "populate": [\n    {\n      "path": "addedBy",\n      "select": [\n        "username",\n        "email"\n      ]\n    }\n  ],\n  "select": [\n    "title",\n    "alternativeHeadline",\n    "image",\n    "publishDate",\n    "author",\n    "publisher"\n  ]\n});\n\nvar config = {\n  method: \'post\',\n  url: \'<Base URL>/client/api/v1/blog/617f7d11fb3eb63160d22b62\',\n  headers: { \n    \'Content-Type\': \'application/json\', \n    \'Authorization\': \'Bearer {token}\'\n  },\n  data: data\n};\n\naxios(config)\n.then(function (response) {\n  console.log(JSON.stringify(response.data));\n})\n.catch(function (error) {\n  console.log(error);\n});\n')),(0,o.kt)("h4",{id:"sample-response"},"Sample response:"),(0,o.kt)("p",null,"Status code: ",(0,o.kt)("inlineCode",{parentName:"p"},"200")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'{\n    "status": "SUCCESS",\n    "message": "Your request is successfully executed",\n    "data": {\n        "author": {\n            "name": "Samantha Herman IV",\n            "image": "payment",\n            "email": "Cecil_Renner7@yahoo.com"\n        },\n        "publisher": {\n            "name": "Gustavo Wyman",\n            "url": "Concrete",\n            "logo": "reboot"\n        },\n        "_id": "617f7d11fb3eb63160d22b62",\n        "title": "Tastyupdate",\n        "alternativeHeadline": "User-friendlyupdate",\n        "image": "Orchestrator",\n        "publishDate": "Direct",\n        "addedBy": {\n            "_id": "6179186894c816c40ae15988",\n            "username": "Lester.Weber42",\n            "email": "Lester.Weber42@gmail.com",\n            "id": "6179186894c816c40ae15988"\n        },\n        "id": "617f7d11fb3eb63160d22b62"\n    }\n}\n')),(0,o.kt)("h2",{id:"get-count-of-documents"},"Get count of documents"),(0,o.kt)("p",null,"To get the total count of a record available in the collection, based on a filter passed in the request body."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"API URL:")," ",(0,o.kt)("e",{className:"post method"},"POST")," ",(0,o.kt)("inlineCode",{parentName:"p"},"<Base URL>/client/api/v1/blog/count")),(0,o.kt)("h4",{id:"sample-request-2"},"Sample request:"),(0,o.kt)("h4",{id:"json-1"},(0,o.kt)("strong",{parentName:"h4"},"JSON")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'{\n  "where": {\n    "isActive": true\n  }\n}\n')),(0,o.kt)("h4",{id:"curl-2"},(0,o.kt)("strong",{parentName:"h4"},"cURL")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"curl --location --request POST '<Base URL>/client/api/v1/blog/count' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer {token}' \\\n--data-raw '{\n  \"where\": {\n    \"isActive\": true\n  }\n}'\n")),(0,o.kt)("h4",{id:"nodejs---axios-2"},"Nodejs - Axios"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"var axios = require('axios');\nvar data = JSON.stringify({\n  \"where\": {\n    \"isActive\": true\n  }\n});\n\nvar config = {\n  method: 'post',\n  url: '<Base URL>/client/api/v1/blog/count',\n  headers: { \n    'Content-Type': 'application/json', \n    'Authorization': 'Bearer {token}'\n  },\n  data: data\n};\n\naxios(config)\n.then(function (response) {\n  console.log(JSON.stringify(response.data));\n})\n.catch(function (error) {\n  console.log(error);\n});\n")),(0,o.kt)("h4",{id:"sample-success-response-1"},"Sample success response:"),(0,o.kt)("p",null,"Status code: ",(0,o.kt)("inlineCode",{parentName:"p"},"200")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'{\n    "status": "SUCCESS",\n    "message": "Your request is successfully executed",\n    "data": {\n        "totalRecords": 3\n    }\n}\n')),(0,o.kt)("p",null,"Sample failure response where no record exists in a database that satisfies a condition"),(0,o.kt)("p",null,"Status code: ",(0,o.kt)("inlineCode",{parentName:"p"},"200")),(0,o.kt)("h2",{id:"find-documents-using-filter"},"Find Documents using filter"),(0,o.kt)("p",null,"To find a record from a collection using filters."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"API URL:")," ",(0,o.kt)("e",{className:"post method"},"POST")," ",(0,o.kt)("inlineCode",{parentName:"p"},"<Base URL>/client/api/v1/blog/list")),(0,o.kt)("h4",{id:"sample-request-3"},"Sample request:"),(0,o.kt)("h4",{id:"json-2"},(0,o.kt)("strong",{parentName:"h4"},"JSON")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'{\n    "query:{ },\n    "options":{},\n    "isCountOnly":true\n}\n')),(0,o.kt)("h4",{id:"json-3"},(0,o.kt)("strong",{parentName:"h4"},"JSON")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'\n{\n    "query": {\n        "alternativeHeadline": {\n            "$eq": "diamond"\n        },\n        "views": {\n            "$gte": 3,\n            "$gt":4\n        },\n        "publishDate": {\n            "$lt": "2022-12-12T07:41:47.320Z"\n        },\n        "createdAt": {\n            "$lte": "2021-12-12T07:41:47.320Z"\n        },\n        "articleBody":{"$in":["invoice","bills"]},\n        "image":{"$nin":["static","fixed"]}\n    },\n    "isCountOnly": false\n}\n')),(0,o.kt)("h4",{id:"curl-3"},(0,o.kt)("strong",{parentName:"h4"},"cURL")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'curl --location --request POST \'<Base URL>/admin/blog/list\' \\\n--header \'Accept: */*\' \\\n--header \'Authorization: Bearer {token}\' \\\n--header \'Cache-Control: no-cache\' \\\n--header \'Connection: keep-alive\' \\\n--header \'Content-Length: 923\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n    "query": {\n        "$or": [\n            {\n                "alternativeHeadline": {\n                    "$eq": "diamondw"\n                }\n            },\n            {\n                "views": {\n                    "$gte": 3,\n                    "$gt": 4\n                }\n            }\n        ],\n        "$and": [\n            {\n                "publishDate": {\n                    "$lt": "2022-12-12T07:41:47.320Z"\n                }\n            },\n            {\n                "createdAt": {\n                    "$lte": "2021-12-12T07:41:47.320Z"\n                }\n            }\n        ],\n        "articleBody": {\n            "$in": [\n                "invoice",\n                "bills"\n            ]\n        },\n        "image": {\n            "$not": {\n                "$nin": [\n                    "dynamic",\n                    "moving"\n                ]\n            }\n        }\n    },\n    "isCountOnly": false\n}\'\n')),(0,o.kt)("h4",{id:"nodejs---axios-3"},"Nodejs - Axios"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'var axios = require(\'axios\');\nvar data = JSON.stringify({\n  "query": {\n    "$or": [\n      {\n        "alternativeHeadline": {\n          "$eq": "diamond"\n        }\n      },\n      {\n        "views": {\n          "$gte": 3,\n          "$gt": 4\n        }\n      }\n    ],\n    "$and": [\n      {\n        "publishDate": {\n          "$lt": "2022-12-12T07:41:47.320Z"\n        }\n      },\n      {\n        "createdAt": {\n          "$lte": "2021-12-12T07:41:47.320Z"\n        }\n      }\n    ],\n    "articleBody": {\n      "$in": [\n        "invoice",\n        "bills"\n      ]\n    },\n    "image": {\n      "$not": {\n        "$nin": [\n          "dynamic",\n          "moving"\n        ]\n      }\n    }\n  },\n  "isCountOnly": false\n});\n\nvar config = {\n  method: \'post\',\n  url: \'<Base URL>/admin/blog/list\',\n  headers: { \n    \'Accept\': \'*/*\',\n    \'Authorization\': \'Bearer {token}\', \n    \'Cache-Control\': \'no-cache\', \n    \'Connection\': \'keep-alive\', \n    \'Content-Length\': \'923\', \n    \'Content-Type\': \'application/json\n  },\n  data: data\n};\n\naxios(config)\n.then(function (response) {\n  console.log(JSON.stringify(response.data));\n})\n.catch(function (error) {\n  console.log(error);\n});\n')),(0,o.kt)("h2",{id:"find-all-with-logical-operators"},"Find all with logical operators"),(0,o.kt)("h4",{id:"json-4"},(0,o.kt)("strong",{parentName:"h4"},"JSON")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'{\n    "query": {\n        "$or": [\n            {\n                "alternativeHeadline": {\n                    "$eq": "diamondw"\n                }\n            },\n            {\n                "views": {\n                    "$gte": 3,\n                    "$gt": 4\n                }\n            }\n        ],\n        "$and": [\n            {\n                "publishDate": {\n                    "$lt": "2022-12-12T07:41:47.320Z"\n                }\n            },\n            {\n                "createdAt": {\n                    "$lte": "2021-12-12T07:41:47.320Z"\n                }\n            }\n        ],\n        "articleBody": {\n            "$in": [\n                "invoice",\n                "bills"\n            ]\n        },\n        "image": {\n            "$not": {\n                "$nin": [\n                    "dynamic",\n                    "moving"\n                ]\n            }\n        }\n    },\n    "isCountOnly": false\n}\n')),(0,o.kt)("h4",{id:"curl-4"},(0,o.kt)("strong",{parentName:"h4"},"cURL")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'curl --location --request POST \'<Base URL>/admin/blog/list\' \\\n--header \'Accept: */*\' \\\n--header \'Authorization: Bearer {token}\' \\\n--header \'Cache-Control: no-cache\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n    "query": {\n        "$or": [\n            {\n                "alternativeHeadline": {\n                    "$eq": "diamondw"\n                }\n            },\n            {\n                "views": {\n                    "$gte": 3,\n                    "$gt": 4\n                }\n            }\n        ],\n        "$and": [\n            {\n                "publishDate": {\n                    "$lt": "2022-12-12T07:41:47.320Z"\n                }\n            },\n            {\n                "createdAt": {\n                    "$lte": "2021-12-12T07:41:47.320Z"\n                }\n            }\n        ],\n        "articleBody": {\n            "$in": [\n                "invoice",\n                "bills"\n            ]\n        },\n        "image": {\n            "$not": {\n                "$nin": [\n                    "dynamic",\n                    "moving"\n                ]\n            }\n        }\n    },\n    "isCountOnly": false\n}\'\n')),(0,o.kt)("h4",{id:"nodejs---axios-4"},"Nodejs - Axios"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'var axios = require(\'axios\');\nvar data = JSON.stringify({\n  "query": {\n    "$or": [\n      {\n        "alternativeHeadline": {\n          "$eq": "diamondw"\n        }\n      },\n      {\n        "views": {\n          "$gte": 3,\n          "$gt": 4\n        }\n      }\n    ],\n    "$and": [\n      {\n        "publishDate": {\n          "$lt": "2022-12-12T07:41:47.320Z"\n        }\n      },\n      {\n        "createdAt": {\n          "$lte": "2021-12-12T07:41:47.320Z"\n        }\n      }\n    ],\n    "articleBody": {\n      "$in": [\n        "invoice",\n        "bills"\n      ]\n    },\n    "image": {\n      "$not": {\n        "$nin": [\n          "dynamic",\n          "moving"\n        ]\n      }\n    }\n  },\n  "isCountOnly": false\n});\n\nvar config = {\n  method: \'post\',\n  url: \'<Base URL>/admin/blog/list\',\n  headers: { \n    \'Accept\': \'*/*\', \n    \'Authorization\': \'Bearer {token}\',\n    \'Content-Type\': \'application/json\', \n  },\n  data: data\n};\n\naxios(config)\n.then(function (response) {\n  console.log(JSON.stringify(response.data));\n})\n.catch(function (error) {\n  console.log(error);\n});\n\n')),(0,o.kt)("p",null,"Sample success response when ",(0,o.kt)("inlineCode",{parentName:"p"},'"isCountOnly": false'),":"),(0,o.kt)("p",null,"Status code: ",(0,o.kt)("inlineCode",{parentName:"p"},"200")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'{\n    "status": "SUCCESS",\n    "message": "Your request is successfully executed",\n    "data": {\n        "data": [\n            {\n                "author": {\n                    "name": "Pat O\'Keefe",\n                    "image": "Chair",\n                    "email": "Breanna.Schumm@gmail.com"\n                },\n                "publisher": {\n                    "name": "Martin Conroy",\n                    "url": "collaborative",\n                    "logo": "Dam"\n                },\n                "_id": "6180f8776c001b64a0fe443f",\n                "title": "Diamond",\n                "alternativeHeadline": "diamond",\n                "image": "dynamic",\n                "publishDate": "2021-12-12T07:41:47.320Z",\n                "articleSection": "primary",\n                "articleBody": "invoice",\n                "description": "Kwacha",\n                "views": 4010,\n                "url": "portals",\n                "isDraft": true,\n                "addedBy": "6180f448c14f8355766bdb32",\n                "createdAt": "2021-11-02T08:36:07.621Z",\n                "updatedAt": "2021-11-02T08:36:07.621Z",\n                "isDeleted": false,\n                "isActive": true,\n                "cities": [\n                    "surat",\n                    "navsari",\n                    "valsad"\n                ],\n                "id": "6180f8776c001b64a0fe443f"\n            }\n        ],\n        "paginator": {\n            "itemCount": 1,\n            "offset": 0,\n            "perPage": 10,\n            "pageCount": 1,\n            "currentPage": 1,\n            "slNo": 1,\n            "hasPrevPage": false,\n            "hasNextPage": false,\n            "prev": null,\n            "next": null\n        }\n    }\n}\n')),(0,o.kt)("p",null,"Sample success response when ",(0,o.kt)("inlineCode",{parentName:"p"},'"isCountOnly": true')),(0,o.kt)("p",null,"Status code: ",(0,o.kt)("inlineCode",{parentName:"p"},"200")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'{\n    "status": "SUCCESS",\n    "message": "Your request is successfully executed",\n    "data": {\n        "totalRecords": 3\n    }\n}\n')),(0,o.kt)("h4",{id:"sample-failure-response"},"Sample failure response"),(0,o.kt)("p",null,"Status code: ",(0,o.kt)("inlineCode",{parentName:"p"},"200")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'{\n    "status": "RECORD_NOT_FOUND",\n    "message": "Record not found with specified criteria.",\n    "data": {}\n}\n')),(0,o.kt)("h2",{id:"options-object-for-request-body"},"Options object for request body"),(0,o.kt)("h3",null,"Options"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"collation")," :  {Object} - Specify the collation ",(0,o.kt)("a",{href:"https://www.mongodb.com/docs/manual/reference/collation/",target:"_blank"},"Documentation"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"projection")," : {String | Object} - Get/set the current query projection.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"lean"),": {Boolean} - Should return plain javascript objects instead of Mongoose (Default Value : true)")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"leanWithId")," : {Boolean} - If ",(0,o.kt)("inlineCode",{parentName:"p"},"lean")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"leanWithId")," are ",(0,o.kt)("inlineCode",{parentName:"p"},"true"),", adds ",(0,o.kt)("inlineCode",{parentName:"p"},"id")," field with string representation of _id to every document")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"pagination")," : {Boolean} - If ",(0,o.kt)("inlineCode",{parentName:"p"},"pagination")," is set to false, it will return all docs without adding limit condition. (Default: True)")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"useEstimatedCount")," - Enable ",(0,o.kt)("a",{href:"https://www.mongodb.com/docs/manual/reference/method/db.collection.estimatedDocumentCount/",target:"_blank"},"estimatedDocumentCount")," for larger datasets. Does not count based on given query, so the count will match entire collection size. (Default: False)")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"useCustomCountFn")," - Enable custom function for count datasets. (Default: False)")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"forceCountFn")," - {Boolean} - Set this to true, if you need to support $geo queries. (Default: False)")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"read")," -  {Object} - Determines the MongoDB nodes from which to read. Below are the available options.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"customLabels")," - {Object} - Developers can provide custom labels for manipulating the response data.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"options")," - {Object} - Options passed to Mongoose's find() function."))),(0,o.kt)("h4",{id:"sample-request-4"},"Sample request"),(0,o.kt)("h4",{id:"json-5"},(0,o.kt)("strong",{parentName:"h4"},"JSON")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'{\n  "query": {},\n  "options": {\n    "projection":"title",\n    "collation": { "locale": "fr" },\n    "lean": false,\n    "leanWithId": false,\n    "pagination": true,\n    "useEstimatedCount": false,\n    "useCustomCountFn": false,\n    "forceCountFn": false,\n    "options": {}\n  },\n  "isCountOnly": false\n}\n')),(0,o.kt)("h4",{id:"curl-5"},(0,o.kt)("strong",{parentName:"h4"},"cURL")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'curl -X POST \\\n  <Base URL>/client/api/v1/blog/list \\\n  -H \'Accept-Encoding: gzip, deflate\' \\\n  -H \'Authorization: Bearer {token}\' \\\n  -H \'Content-Type: application/json\' \\\n  -d \'{\n  "query": {},\n  "options": {\n    "projection":"title",\n    "collation": { "locale": "fr" },\n    "lean": false,\n    "leanWithId": false,\n    "pagination": true,\n    "useEstimatedCount": false,\n    "useCustomCountFn": false,\n    "forceCountFn": false,\n    "options": {}\n  },\n  "isCountOnly": false\n}\'\n')),(0,o.kt)("h4",{id:"nodejs---axios-5"},"Nodejs - Axios"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'var axios = require(\'axios\');\nvar data = JSON.stringify({\n  "query": {},\n  "options": {\n    "projection": "title",\n    "collation": {\n      "locale": "fr"\n    },\n    "lean": false,\n    "leanWithId": false,\n    "pagination": true,\n    "useEstimatedCount": false,\n    "useCustomCountFn": false,\n    "forceCountFn": false,\n    "options": {}\n  },\n  "isCountOnly": false\n});\n\nvar config = {\n  method: \'post\',\n  url: \'<Base URL>/client/api/v1/blog/list\',\n  headers: {  \n    \'Authorization\': \'Bearer {token}\',  \n    \'Content-Type\': \'application/json\', \n  },\n  data: data\n};\n\naxios(config)\n.then(function (response) {\n  console.log(JSON.stringify(response.data));\n})\n.catch(function (error) {\n  console.log(error);\n});\n')),(0,o.kt)("h4",{id:"sample-response-1"},"Sample response:"),(0,o.kt)("p",null,"Status code: ",(0,o.kt)("inlineCode",{parentName:"p"},"200")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'{\n    "status": "SUCCESS",\n    "message": "Your request is successfully executed",\n    "data": {\n        "data": [\n            {\n                "_id": "6180f86a6c001b64a0fe443e",\n                "title": "Saphire",\n                "id": "6180f86a6c001b64a0fe443e"\n            },\n            {\n                "_id": "6180f8776c001b64a0fe443f",\n                "title": "Diamond",\n                "id": "6180f8776c001b64a0fe443f"\n            }\n        ],\n        "paginator": {\n            "itemCount": 4,\n            "offset": 0,\n            "perPage": 10,\n            "pageCount": 1,\n            "currentPage": 1,\n            "slNo": 1,\n            "hasPrevPage": false,\n            "hasNextPage": false,\n            "prev": null,\n            "next": null\n        }\n    }\n}\n')),(0,o.kt)("br",null),(0,o.kt)("br",null),(0,o.kt)("p",null,"Got a question? ",(0,o.kt)("a",{parentName:"p",href:"https://discord.com/invite/rFMnCG5MZ7"},(0,o.kt)("strong",{parentName:"a"},"Ask here")),"."))}u.isMDXComponent=!0}}]);